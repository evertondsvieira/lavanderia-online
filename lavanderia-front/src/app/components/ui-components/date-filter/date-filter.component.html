<div class="flex items-center justify-center">
  <button
    (click)="openModal()"
    class="bg-mainBlue text-white py-2 px-4 rounded"
  >
    Filtro
  </button>
</div>

<div
  id="modal"
  class="fixed inset-0 flex items-center justify-center z-50 hidden"
>
  <div class="absolute inset-0 bg-black opacity-50"></div>
  <div class="bg-white p-6 rounded shadow-lg relative">
    <h2 class="text-lg font-semibold mb-4 flex justify-between items-center">
      Filtrar por data
      <button (click)="closeModal()" class="text-red-600 focus:outline-none">
        Fechar
      </button>
    </h2>
    <ng-container *ngIf="showCustomDateRange; else defaultOptions">
      <div class="mt-4 w-full gap-2 space-y-2">
        <div class="mt-4 space-y-2 flex flex-col w-80">
          <label for="startDate">Data de in√≠cio:</label>
          <input
            type="date"
            id="startDate"
            class="border rounded py-2 px-3 focus:outline-none focus:ring"
            [(ngModel)]="startDate"
          />
          <label for="endDate">Data de fim:</label>
          <input
            type="date"
            id="endDate"
            class="border rounded py-2 px-3 focus:outline-none focus:ring"
            [(ngModel)]="endDate"
          />
          <div class="flex justify-between pt-2">
            <button
              *ngIf="showCustomDateRange"
              (click)="toggleCustom()"
              class="text-black font-semibold focus:outline-none"
            >
              Voltar
            </button>
            <button type="button" class="text-mainBlue font-semibold" (click)="applyFilter()">Enviar</button>
          </div>
        </div>
      </div>
    </ng-container>
    <ng-template #defaultOptions>
      <div class="flex flex-col w-80 space-y-2">
        <button (click)="filterAll()" class="border rounded py-2 px-4">
          Todos
        </button>
        <button (click)="filterToday()" class="border rounded py-2 px-4">
          Hoje
        </button>
        <button (click)="toggleCustom()" class="border rounded py-2 px-4">
          Customizado
        </button>
      </div>
    </ng-template>
  </div>
</div>
